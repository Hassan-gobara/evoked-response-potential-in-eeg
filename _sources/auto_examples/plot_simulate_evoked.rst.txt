.. note::
    :class: sphx-glr-download-link-note

    Click :ref:`here <sphx_glr_download_auto_examples_plot_simulate_evoked.py>` to download the full example code
.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_plot_simulate_evoked.py:


===============
Simulate dipole
===============

This example demonstrates how to simulate a dipole using the Neuron
simulator.



.. code-block:: python


    # Authors: Mainak Jas <mainak.jas@telecom-paristech.fr>
    #          Sam Neymotin <samnemo@gmail.com>

    import os.path as op







Let us import mne_neuron



.. code-block:: python


    import mne_neuron
    from mne_neuron.paramrw import ExpParams
    from mne_neuron import simulate_dipole

    from neuron import h







Then we setup the directories and Neuron



.. code-block:: python

    mne_neuron_root = op.join(op.dirname(mne_neuron.__file__), '..')
    h.load_file("stdrun.hoc")
    h.nrn_load_dll(op.join(mne_neuron_root, "x86_64/.libs/libnrnmech.so"))







Then we setup the directories



.. code-block:: python

    params_fname = op.join(mne_neuron_root, 'param', 'default.param')
    p_exp = ExpParams(params_fname)
    params = p_exp.return_pdict('default', 0)







Now let's simulate the dipole and plot it



.. code-block:: python

    dpl = simulate_dipole(params)
    dpl.plot()



.. image:: /auto_examples/images/sphx_glr_plot_simulate_evoked_001.png
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    Simulation time: 0.03 ms...
    Simulation time: 10.0 ms...
    Simulation time: 20.0 ms...
    Simulation time: 30.0 ms...
    Simulation time: 40.0 ms...
    Simulation time: 50.0 ms...
    Simulation time: 60.0 ms...
    Simulation time: 70.0 ms...
    Simulation time: 80.0 ms...
    Simulation time: 90.0 ms...
    Simulation time: 100.0 ms...
    Simulation time: 110.0 ms...
    Simulation time: 120.0 ms...
    Simulation time: 130.0 ms...
    Simulation time: 140.0 ms...
    Simulation time: 150.0 ms...
    Simulation time: 160.0 ms...


**Total running time of the script:** ( 0 minutes  50.799 seconds)


.. _sphx_glr_download_auto_examples_plot_simulate_evoked.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download

     :download:`Download Python source code: plot_simulate_evoked.py <plot_simulate_evoked.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: plot_simulate_evoked.ipynb <plot_simulate_evoked.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.readthedocs.io>`_
